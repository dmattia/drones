<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Drone Jobs</title>
        <script src="elm.js"></script>

        <link rel="stylesheet" href="./style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
    </head>
    
    <body>
      <div id="elm-app"></div>

      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBMJsEpCM6-ukU5l8pOCr3gr_AwQ4MmQ9Y&callback=initMap" async defer></script>

      <script>
        var map;

        var mainDiv = document.getElementById("elm-app")
        var app = Elm.App.embed(mainDiv);

        app.ports.mapData.subscribe(function(mapData) {
          if (map != undefined) {
            console.log(mapData);
            map.setCenter(mapData);
          }
        });

        app.ports.chargingData.subscribe(function(chargeData) {
          console.log(chargeData);
        });

        function initMap() {
          map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 48.869317, lng: 2.30},
            zoom: 8
          });
          app.ports.isReady.send(true);
        }
      </script>
      <script   src="https://code.jquery.com/jquery-2.2.4.js"   integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="   crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
    </body>
</html>

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Drone Jobs</title>
        <script src="elm.js"></script>

        <link rel="stylesheet" href="./style.css">
    </head>
    
    <body>
      <div id="elm-app"></div>

      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBMJsEpCM6-ukU5l8pOCr3gr_AwQ4MmQ9Y&callback=initMap" async defer></script>

      <script>
        var map;

        var mainDiv = document.getElementById("elm-app")
        var app = Elm.Clicker.embed(mainDiv);

        app.ports.mapData.subscribe(function(mapData) {
          console.log(mapData);
          var newMapCenter = new google.maps.LatLng(mapData.latitude, mapData.longitude);
          map.setCenter(newMapCenter);
        });

        app.ports.value.subscribe(function(value) {
          console.log("Result: " + value);
        });

        function initMap() {
          map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 48.869317, lng: 2.3},
            zoom: 8
          });
        }
      </script>
    </body>
</html>
